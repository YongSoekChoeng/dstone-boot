[Dstone Document Index](../../docs/Index.md)

# Dstone-Boot 프로젝트 개요

---

## 1. 프로젝트 소개

`dstone-boot` 프로젝트는 두 가지 주요 목적을 가진 다기능 애플리케이션입니다.

1.  **웹 애플리케이션 프레임워크**: Spring Boot를 기반으로, 다중 데이터베이스 지원, 소셜 로그인, 메시징(RabbitMQ), 웹 소켓 등 현대적인 웹 애플리케이션 개발에 필요한 다양한 공통 기능과 유틸리티를 통합한 프레임워크 역할을 합니다.

2.  **소스 코드 분석 도구**: Java 웹 애플리케이션의 소스 코드(Java, JSP, MyBatis XML)를 정적 분석하여 아키텍처와 의존성을 시각적으로 매핑하는 강력한 분석 기능을 제공합니다. 분석 결과는 데이터베이스에 저장되어 웹 UI를 통해 조회하고 관리할 수 있습니다.

본질적으로 이 프로젝트는 Java 애플리케이션을 효율적으로 **구축**하고, 그 구조를 깊이 있게 **분석**하는 통합 플랫폼입니다.

---

## 2. 주요 기능

-   **웹 프레임워크**
    -   Spring Boot 기반의 안정적인 웹 애플리케이션 개발 환경
    -   다중 데이터베이스(Multi-datasource) 연동 지원 (MySQL, Oracle, PostgreSQL 등)
    -   소셜 로그인 (Google, Naver, Kakao) 및 자체 사용자 인증/인가 기능
    -   비동기 작업 처리, 스케줄링, 모니터링 기능 (`common.task`)
    -   메시지 큐(RabbitMQ), 웹 소켓, 자체 큐 등 다양한 통신 방식 지원
    -   암복호화, 파일 처리, 날짜 계산 등 필수 유틸리티 제공

-   **소스 코드 분석기**
    -   Java, JSP, MyBatis XML 파일 정적 분석
    -   클래스, 메소드 호출 관계, URL-서비스 매핑, 테이블 의존성 등 분석
    -   분석 결과를 웹 UI로 시각화하고 데이터베이스에 영구 저장

---

## 3. 기술 스택

-   **Backend**: Java, Spring Boot, Spring Security
-   **Frontend**: JSP, jQuery, HTML, CSS
-   **Database**: MySQL, Oracle, PostgreSQL, H2 (분석기용)
-   **Data Access**: MyBatis
-   **Code Parsing**: javaparser, jsqlparser
-   **Build**: Maven
-   **Others**: RabbitMQ, Weka (머신러닝), Google API 클라이언트

---

## 4. 아키텍처 및 주요 모듈

### 4.1. 소스 코드 분석기 (Analyzer)

`dstone-boot`의 핵심 기능 중 하나로, 지정된 경로의 Java 웹 애플리케이션 소스 코드를 분석하여 구조와 의존성을 파악합니다.

**작동 방식:**

1.  **분석 요청**: 사용자가 웹 UI에서 분석할 소스 코드 경로를 지정하고 분석을 시작합니다.
2.  **비동기 처리**: `AnalysisController`는 분석 요청을 받아 `AppAnalyzer`를 사용하여 분석 작업을 **비동기적으로** 수행합니다. 이를 통해 UI는 응답 불능 상태에 빠지지 않고 사용자는 다른 작업을 계속할 수 있습니다.
3.  **소스 코드 파싱**: `AppAnalyzer`는 `javaparser`, `jsqlparser` 등의 라이브러리를 사용하여 다음 파일들을 파싱합니다.
    -   **Java (`.java`)**: 클래스, 메소드, 어노테이션, 호출 관계 등
    -   **JSP (`.jsp`)**: 화면 구조, 스크립트릿, URL 링크 등
    -   **MyBatis XML (`.xml`)**: SQL 쿼리, 파라미터, CRUD 대상 테이블 정보
4.  **결과 저장**: 분석된 메타데이터(클래스 목록, 테이블 정보, API 호출 관계 등)는 별도의 `analyzer` 데이터베이스(H2)에 저장됩니다.
5.  **결과 확인**: 사용자는 웹 UI를 통해 분석 진행 상황을 모니터링하고, 완료 후 저장된 분석 결과를 조회할 수 있습니다.

**주요 클래스:**

-   `net.dstone.analyzer.AnalysisController`: 분석 작업 관련 웹 요청을 처리하는 컨트롤러.
-   `net.dstone.common.tools.analyzer.AppAnalyzer`: 실제 소스 코드 분석을 수행하는 핵심 엔진.

### 4.2. 웹 프레임워크 (Web Framework)

Spring Boot를 기반으로 다양한 공통 모듈과 유틸리티를 제공하여 안정적이고 효율적인 웹 애플리케이션 개발을 지원합니다.

**주요 패키지:**

-   `net.dstone.common.config`: 다중 데이터베이스 소스, 보안, 캐시 등 애플리케이션의 핵심 설정을 담당합니다.
-   `net.dstone.common.security`: Spring Security를 기반으로 한 자체 인증/인가 및 소셜 로그인 메커니즘을 구현합니다. (`ConfigSecurity.java`)
-   `net.dstone.common.web`: 웹 요청 처리와 관련된 필터, 인터셉터, 예외 처리 등 공통 로직을 포함합니다.
-   `net.dstone.common.db`: MyBatis를 활용한 데이터베이스 연동 및 다중 데이터베이스 트랜잭션 관리를 지원합니다.
-   `net.dstone.common.sample`: 프레임워크의 각종 기능을 활용하는 다양한 샘플 코드를 제공하여 개발자가 빠르게 기능을 익히고 적용할 수 있도록 돕습니다.
