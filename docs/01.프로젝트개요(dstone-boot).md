[Dstone Document Index](../../docs/Index.md)

# Dstone Boot Application(프레임웍) 개요

## 1. 프로젝트 소개

`dstone-boot` 프로젝트는 두 가지 주요 목적을 가진 애플리케이션입니다.

첫째, Spring Boot를 기반으로 구축된 포괄적인 Java 웹 애플리케이션 프레임워크입니다. 다중 데이터베이스 지원, 소셜 로그인, 메시징 등 다양한 유틸리티와 통합 기능을 제공합니다.

둘째, 강력한 소스 코드 분석 도구입니다. 'analyzer' 기능은 대상 Java 웹 애플리케이션의 소스 코드(Java, JSP, MyBatis XML)를 구문 분석하여 아키텍처와 종속성을 매핑할 수 있습니다. 분석은 웹 UI에서 실행되며 결과는 나중에 검사할 수 있도록 데이터베이스에 저장됩니다.

본질적으로 이 프로젝트는 Java 애플리케이션을 구축하고 분석하는 플랫폼입니다.

## 2. 주요 기능

*   **웹 애플리케이션 프레임워크**: Spring Boot 기반의 안정적인 웹 애플리케이션 개발 환경 제공
*   **다중 데이터베이스 지원**: MySQL, Oracle, PostgreSQL 등 다양한 데이터베이스 연동 지원
*   **소스 코드 분석**: Java, JSP, MyBatis XML 파일 분석을 통해 애플리케이션의 구조와 의존성 파악
*   **분석 결과 시각화**: 분석 결과를 웹 UI를 통해 확인하고 데이터베이스에 저장하여 관리
*   **사용자 인증**: 소셜 로그인(Naver, Kakao, Google) 및 자체 로그인 기능 제공
*   **비동기 작업 처리**: 분석과 같은 시간이 많이 소요되는 작업을 비동기적으로 처리하고 모니터링
*   **다양한 유틸리티**: 암복호화, 파일 처리, 웹 소켓, Task 관리 등 개발에 필요한 다양한 유틸리티 제공

## 3. 기술 스택

*   **백엔드**: Java, Spring Boot
*   **프론트엔드**: JSP, jQuery, HTML, CSS
*   **데이터베이스**: MySQL, Oracle, PostgreSQL, H2 (for analyzer)
*   **ORM**: MyBatis
*   **파서**: javaparser, jsqlparser
*   **빌드**: Maven
*   **기타**: Weka (Machine Learning), Google APIs

## 4. 아키텍처 및 주요 모듈

### 4.1. 소스 코드 분석기 (Analyzer)

소스 코드 분석기는 `dstone-boot`의 핵심 기능 중 하나로, 지정된 경로의 Java 웹 애플리케이션 소스 코드를 분석하여 그 구조와 의존성을 파악합니다.

**작동 방식:**

1.  **분석 시작**: 사용자가 웹 UI에서 분석할 소스 코드의 경로를 지정하고 분석을 시작합니다.
2.  **비동기 처리**: `AnalysisController`는 분석 요청을 받아 `AppAnalyzer`를 사용하여 비동기적으로 분석 작업을 수행합니다.
3.  **소스 코드 파싱**: `AppAnalyzer`는 `javaparser`, `jsqlparser` 등의 라이브러리를 사용하여 다음 파일들을 파싱합니다.
    *   Java 파일 (`.java`): 클래스, 메소드, 의존성 등
    *   JSP 파일 (`.jsp`): 웹 페이지 구조 및 스크립트
    *   MyBatis XML (`.xml`): SQL 쿼리 및 테이블 정보
4.  **결과 저장**: 분석된 결과(클래스 목록, 테이블 정보, API 호출 관계 등)는 별도의 `analyzer` 데이터베이스(H2)에 저장됩니다.
5.  **결과 확인**: 사용자는 웹 UI를 통해 분석 진행 상황을 모니터링하고, 완료 후 저장된 분석 결과를 조회할 수 있습니다.

**주요 클래스:**

*   `net.dstone.analyzer.AnalysisController`: 분석 작업을 위한 웹 요청을 처리하는 컨트롤러.
*   `net.dstone.common.tools.analyzer.AppAnalyzer`: 실제 소스 코드 분석을 수행하는 핵심 엔진.

### 4.2. 웹 프레임워크 (Web Framework)

`dstone-boot`는 Spring Boot를 기반으로 다양한 공통 모듈과 유틸리티를 제공하여 안정적이고 효율적인 웹 애플리케이션 개발을 지원합니다.

**주요 모듈:**

*   **`common.config`**: 애플리케이션의 주요 설정을 담당하며, 특히 다중 데이터베이스 소스, 보안 설정 등을 포함합니다.
*   **`common.security`**: Spring Security를 기반으로 한 자체 인증/인가 메커니즘을 구현합니다. 소셜 로그인(Google, Naver, Kakao) 기능도 이 모듈에서 처리됩니다. (`ConfigSecurity.java`)
*   **`common.web`**: 웹 요청 처리와 관련된 필터, 인터셉터, 공통 컨트롤러 로직을 포함합니다.
*   **`common.db`**: MyBatis를 활용한 데이터베이스 연동 및 다중 데이터베이스 소스 관리를 지원합니다.
*   **`common.task`**: 비동기 작업을 관리하기 위한 태스크 스케줄러 및 관리 기능을 제공합니다.
*   **`common.utils`**: 암복호화, 파일 처리, 날짜 계산 등 개발 전반에 필요한 다양한 유틸리티 클래스를 제공합니다.
*   **`common.mq`, `common.queue`, `common.socket`, `common.websocket`**: 메시지 큐(RabbitMQ), 자체 큐, 소켓, 웹소켓 등 다양한 통신 방식을 지원하는 모듈을 제공합니다.